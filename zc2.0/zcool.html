<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zcool</title>
    <link rel="stylesheet" href="./zcool.css">
    <link rel="stylesheet" href="./swiper.min.css">

</head>

<body>
    <div class="header">
        <div class="menu_box">
            <div class="logo"><img src="./img/zc_logo.svg"></div>

            <div class="menu_list">
                <ul class="header_menu">
                    <li class="sy"><a class="a_list">首页</a></li>
                    <li class="fx"><a class="a_list">发现</a></li>
                    <li class="zw"><a class="a_list">职位</a></li>
                    <li class="hd"><a class="a_list">活动</a></li>
                    <li class="zb"><a class="a_list">正版素材</a></li>
                    <li class="kc"><a class="a_list">课程</a></li>
                    <li class="bq"><a class="a_list">版权保护</a></li>
                    <li class="more"><a class="_img"></a></li>
                </ul>
            </div>

            <div class="ss">
                <img src="" alt="">
            </div>
            <div class="yun"><img src="" alt="">
            </div>
        </div>
    </div>


    <div class="work_list">
        <div class="swiper-container">
            <div class="swiper-wrapper">
                <div class="swiper-slide"><img src="./img/01.png@1380w" alt=""></div>
                <div class="swiper-slide"><img src="./img/02.png@1380w" alt=""></div>
                <div class="swiper-slide"><img src="./img/03.png@1380w" alt=""></div>
                <div class="swiper-slide"><img src="./img/04.png@1380w" alt=""></div>
                <div class="swiper-slide"><img src="./img/05.jpg@1380w" alt=""></div>
                <div class="swiper-slide"><img src="./img/06.jpg@1380w" alt=""></div>
                <div class="swiper-slide"><img src="./img/07.png@1380w" alt=""></div>


            </div>

            <!-- 导航按钮 -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>



        </div>
        <div class="clear" style="height:20px"></div>
        <div class="image_menu">
            <ul class="image_list">
                <li><img src="https://reviveimg.hellorf.com/www/images/03c017e48c19cea307ddbecb2066f47d.jpg" alt="">
                </li>
                <li><img src="https://reviveimg.hellorf.com/www/images/8adf90f1b7bc6cb211f74d7bb1249377.jpeg" alt="">
                </li>
                <li><img src="https://reviveimg.hellorf.com/www/images/63cd0b640f352cb678d38984fa2b7f0a.jpg" alt="">
                </li>
                <li><img src="https://reviveimg.hellorf.com/www/images/672ccff39cc6eb91d518d79ac91d26d0.jpg" alt="">
                </li>
                <li><img src="https://reviveimg.hellorf.com/www/images/5f573d18477f4638feddae4435534a70.jpg" alt="">
                </li>
            </ul>
        </div>
        <div class="tab" style="height:56px">

            <ul class="sub_nav">
                <li><a href="" class="sye">首页推荐</a> </li>
                <li><a href="" class="zuix">最新发布</a> </li>

            </ul>


        </div>
        <div class="card_img">
            <div class="work_list_box">

            </div>
        </div>
        <div class="pageturning ">
            <div id="biuuu_page" class="clear">
                <div name="laypage1.3" class="laypage_main laypageskin_default" id="laypage_0">

                    <a class="laypage_curr" z-st="page_1">1</a>


                    <a href="https://www.zcool.com.cn/?p=2#tab_anchor" data-page="2" z-st="page_2">2</a>

                    <a href="https://www.zcool.com.cn/?p=3#tab_anchor" data-page="3" z-st="page_3">3</a>

                    <a href="https://www.zcool.com.cn/?p=4#tab_anchor" data-page="4" z-st="page_4">4</a>

                    <a href="https://www.zcool.com.cn/?p=5#tab_anchor" data-page="5" z-st="page_5">5</a>

                    <a href="https://www.zcool.com.cn/?p=6#tab_anchor" data-page="6" z-st="page_6">6</a>

                    <a href="https://www.zcool.com.cn/?p=7#tab_anchor" data-page="7" z-st="page_7">7</a>

                    <!-- 结束的省略号和最后两页 -->
                    <span>…</span>
                    <a href="https://www.zcool.com.cn/?p=99#tab_anchor" data-page="1" z-st="page_99">99
                    </a>
                    <a href="https://www.zcool.com.cn/?p=100#tab_anchor" data-page="1" z-st="page_100">
                        100
                    </a>



                    <!-- 下一页 -->

                    <a class="laypage_next" href="https://www.zcool.com.cn/?p=2#tab_anchor" data-page="2"
                        z-st="page_next">
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="adv">
        <div class="adc">
            <a href=""><img src="https://reviveimg.hellorf.com/www/images/71bd2c125380aea190ef1b886b573984.jpg"
                    alt=""></a>
        </div>
    </div>
  
    <div class="work-our">
        <div >
            <span class="medium-title">推荐课程</span>
            <span class="zcool-link-color right change">换一换</span>
          </div>
        <div class="footer-page"> 
    
            
    </div> 

    <script>
        // function callback(data){
        //     console.log(data);
        // }
        // var script = document.createElement("script")
        // script.src = "https://api.gogoup.com/p1/data/recommend?type=0&pageNo=1&pageSize=5&fromId=273&jsonpcallback=callback&_="+Date.now();
        // console.log(script);
        // 如果需要控制jsonp请求的发送时机，可以动态控制
        
            
               var pageNo=1;
                var fromId=273;
           
       
        document.querySelector(".change").onclick =function(){
            var script = document.createElement("script");
            script.src = "https://api.gogoup.com/p1/data/recommend?type=0&pageNo="+pageNo+"&pageSize=5&fromId="+fromId+"&jsonpcallback=callback&_="+Date.now();
            document.body.appendChild(script)
        }
        function callback(data){
           var datas = data.datas;
            console.log(datas);
            var heml ="";
            for(var i = 0;i<datas.length;i++){
                heml+='<div class="footer-box">'+
              '<img src="'+datas[i].image + '" alt="">'+
             ' <div class="title">'+datas[i].name+'</div>'+
          '</div>'  
        }
        document.querySelector(".footer-page").innerHTML = heml;
        pageNo++;
        fromId = datas[datas.length-1].courseId;
    }
    </script>
    <!-- <script src="https://api.gogoup.com/p1/data/recommend?type=0&pageNo=1&pageSize=5&fromId=273&jsonpcallback=callback&_=1594806230221"></script> -->
   

    <div class="footer"></div>
    <div class="top-back">
        <p>&lt</p>
    </div>
    <script>
        var topb = document.querySelector(".top-back");
        topb.onclick = function () {
            document.body.scrollTop = document.documentElement.scrollTop = 0;
        }
        topb.onmouseover = function () {
            topb.childNodes[0].style.color = "#ccc";
        };
        topb.onmouseout = function () {
            topb.childNodes[0].style.color = "white";
        }
        window.onscroll = function () {
            //获取滚动条滚动距离
            var t = document.documentElement.scrollTop || document.body.scrollTop;
            var topb = document.querySelector(".top-back")
            if (t > 300) {
                topb.style.display = "block";
            } else {
                topb.style.display = "none";
            }
        }
    </script>
    <script>
        var xhr = new XMLHttpRequest();
        xhr.open("get", "./zcool.php")
        xhr.send();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                var obj = JSON.parse(xhr.responseText);
                // console.log(obj);
                var html = "";
                for (var i = 0; i < obj.length; i++) {
                    html += `<div class="card_box">
               <img src="${obj[i].url}">
               <p class="title">${obj[i].title}</p><br>
               <p  class="type">${obj[i].type}</p>
               <p  class="item"><span>阅读数:${obj[i].item1}</span><span>评论数:${obj[i].item2}</span><span>点赞数:${obj[i].item3}</span></p>
              <p  class="user"><img src="${obj[i].nameurl}"><span>${obj[i].name}</span><span>${obj[i].time}</span></p>
                  </div>
               `
                }
                document.querySelector(".work_list_box").innerHTML = html;
            }
        }
    </script>
    <script src="./swiper.min.js"></script>
    <script>
        var mySwiper = new Swiper('.swiper-container', {
            direction: 'horizontal', // 水平切换
            loop: true, // 循环模式选项
            autoplay: true,
            delay: 1500,


            // 如果需要前进后退按钮
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            }
        })
    </script>
</body>

</html>